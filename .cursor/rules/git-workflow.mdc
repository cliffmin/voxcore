---
description: Git workflow and commit message standards for VoxCore
alwaysApply: true
---

# Git Workflow Policy

## Default Behavior

1. **Stage changes only** - AI agents must stage files (`git add`) but NOT commit or push
2. **Show summary** - After staging, show `git diff --staged` summary
3. **Wait for approval** - User reviews staged changes before committing

## When User Requests Commit

- **Format**: Use area prefixes as defined in CONTRIBUTING.md:
  - `ptt:` - Push-to-talk functionality
  - `ui:` - User interface changes
  - `refine:` - Post-processing/refinement
  - `docs:` - Documentation
  - `tests:` - Test changes
  - `chore:` - Build/config/maintenance
  - `fix:` - Bug fixes
  - `feat:` - New features

- **Example**: `ptt: auto-mode decision and logs`

- **Never include**:
  - Emoji or decorative characters
  - "Generated by AI" or similar meta-comments
  - Vague messages like "Updated files" or "Made changes"
  - Commit messages without area prefix

## Push Policy

- **Never push** without explicit user command ("push", "ship it", "push to remote")
- **Always ask** before pushing, even if user said "commit and push" (confirm push separately)

## Branch Policy

- AI can create branches when explicitly requested
- AI should not switch branches without user approval
- AI should not force-push or delete branches
